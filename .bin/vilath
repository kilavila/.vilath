#!/bin/bash

: '
TODO:
	- Implement QR code function
	- Implement flags handler
	- Implement GnuPG ID check, unencrypted files check and throw warnings
	- Add file/dir not found function

	- Implement config file for UI, functionality and git
	- Implement config function
	- Implement autocomplete on TAB
	- Implement help function

	- Refactoring:
		- Add vps_print function
'

: '
╭────────────────────────────╮
│ ┏┓  .vilath   ┓  ┏┓        │
│ ┃┃┏┓┏┏┓┏┏┏┓┏┓┏┫  ┗┓╋┏┓┏┓┏┓ │
│ ┣┛┗┻┛┛┗┻┛┗┛┛ ┗┻  ┗┛┗┗┛┛ ┗  │
├────────────────────────────╯
│
├── Open-Source Password Manager by kilavila
├── https://github.com/kilavila/.vilath
│
└── GnuPG encrypted and locked with chattr, inspired by pass(passwordstore.org) but with improved functionality and UI.
		Automatically push changes to git, store passwords in hidden files and folders, view and copy passwords without unlocking with chattr etc.
		Generate strong passwords of any length, add additional information in password files and use commands you are familiar with!
		Commands like; cat, ls, cp, mv, rm etc..
		VPS also supports chaining commands, f.ex:
		vps gen web/twitch.tv edit web/twitch.tv view web/twitch.tv
		will generate a new password file, open it in the default editor and print it.
'

USER=$(whoami)
DIR="/home/$USER/.vilath"

for VPS_FILE in $DIR/.bin/*.sh; do
	source "$VPS_FILE"
done

vps_cmd_handler "$@"
